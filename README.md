# Order_management
Система управления заказами для ресторана

## Техническое задание:

1. Django-приложение для управления заказами в ресторане.
2. Использовать базу данных SQLite для хранения информации о заказах, меню и клиентах.
3. Повара могут просматривать заказы, помечать их как готовые к доставке.
4. Доставщики могут видеть список заказов, готовых к доставке, и подтверждать выполнение доставки и оплаты.
5. Для удобства работы персонала используется фронтенд с использованием Django templates.

----------------------------------------------------------------------

##  Требования:

 - Python==3.12
 - Django==4.2.1
 - asgiref==3.7.2
 - sqlparse==0.4.4
 - Pillow==10.2.0
 - и их зависимости (requirements.txt)

## Запуск приложения

Создать виртуальное окружение:

    python -m venv venv

Активировать виртуальное окружение(Windows):

    .venv\Scripts\activate.bat

Скачать программу:

    git clone https://github.com/Liliya-Sh/order_management.git

Установить зависимости:

    pip install-r requirements.txt

При необходимости обновите: 

    python -m ensurepip --upgrade

    python.exe -m pip install --upgrade pip 

    pip install --upgrade setuptools

Запустить программу в консоли PyCharm:

    python manage.py runserver

Открыть в браузере страницу:  http://127.0.0.1:8000/
______________________________________________________________________

## Тестирование:

1. Главная страница. Авторизация:
    http://127.0.0.1:8000/

    По умолчанию 4 пользователя:

        - Администратор (Имя пользователя: root, Пароль: 12345)
        - Директор (Имя пользователя: Alexander, Пароль: 1qazx!!!)
        - Повар (Имя пользователя: Olga, Пароль: 1qazxcv!)
        - Доставщик (Имя пользователя: Petr, Пароль: 1qazxc!!)

    У Администратора и Директора есть доступ к страницам:
    http://127.0.0.1:8000/worksite/cooking_list/
    http://127.0.0.1:8000/worksite/delivery_list/

    У Повара доступ к странице:
    http://127.0.0.1:8000/worksite/cooking_list/

    У Доставщика есть доступ к странице:
    http://127.0.0.1:8000/worksite/delivery_list/
    
    У всех пользователей есть доступ к своему профилю:
    http://127.0.0.1:8000/profile_employee/

    Также можно выйти из профиля.
    Все кнопки есть в главном меню сайта.

2. Если пользователь не помнит пароль, справа внизу есть ссылка "Забыли пароль?"
    http://127.0.0.1:8000/

    2.1. Необходимо указать email из профиля и нажать "Отправить на E-mail":
         http://127.0.0.1:8000/password-reset/

      **Например(Petr):** test_acount@bk.ru

    2.2. Появится сообщение об отправки письма:
         http://127.0.0.1:8000/password-reset/done/

      В консоли(PyCharm) от кого и кому отправилось письмо, а также ссылка для восстановления пароля.
      Необходимо перейти по ней.
    
    2.3. В открывшемся окне необходимо ввести новый пароль:
         http://127.0.0.1:8000/password-reset/Mg/set-password/

      **Например:** !!!23QAZ

      Появится сообщение, что пароль изменен и ссылка на "Вход в систему":
      http://127.0.0.1:8000/password-reset/complete/

3. Просмотреть профиль пользователя
    http://127.0.0.1:8000/profile_employee/

    Можно внести изменения в поля: Имя, Фамилия, Номер телефона.
    Сохранить нажав на кнопку "Сохранить"

4. Справа внизу есть ссылка "Сменить пароль?"
    http://127.0.0.1:8000/password-change/

    Заполняем необходимые поля, например если пользователь root:

        - Старый пароль: 12345
        - Новый пароль: !!qazxcv
        - Подтверждение пароля: !!qazxcv

    Если все поля заполнены правильно, и пароль не был легким, то пароль поменяется.
    http://127.0.0.1:8000/password-change/done/

    "Вернуться в профиль root" является ссылкой на профиль.

5. Просмотреть список заказов, которые необходимо приготовить:
    http://127.0.0.1:8000/worksite/cooking_list/
    
    Если нажать на кнопку "Готовится", то статус заказа изменится на "Готов".
    Появится окно уведомления о изменении статуса, и заказ исчезнет из списка.

6. Просмотреть список заказов, которые необходимо доставить и оплатить:
    http://127.0.0.1:8000/worksite/delivery_list/

    После того, как статус заказа изменен на "Готов", он появляется в этом списке.
    Если нажать на кнопку "Не оплачено", то статус заказа изменится на "Оплачено".
    Если нажать на кнопку "Не доставлено", то статус заказа изменится на "Доставлено".
    Только если оба статуса изменятся на положительный, появится окно уведомления о 
    изменении статуса, и заказ исчезнет из списка.

7. Все данные можно просмотреть и изменить:
   - в программе SQLiteStudio(3.4.4)
   - http://127.0.0.1:8000/admin/

    Повар и Доставщик не может зайти на страницу Администрирование Django.
    
    Директор может только просматривать: Заказы, Покупателей, Продукты, 
    Сотрудников.
    
    У Администратора есть все права.
